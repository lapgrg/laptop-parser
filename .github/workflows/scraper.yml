name: üîç –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ—É—Ç–±—É–∫–æ–≤

on:
  schedule:
    # –£—Ç—Ä–æ–º –≤ 9:00 –ø–æ –¢–±–∏–ª–∏—Å–∏ (UTC+4)
    - cron: '0 5 * * *'
    # –í–µ—á–µ—Ä–æ–º –≤ 18:00 –ø–æ –¢–±–∏–ª–∏—Å–∏ (UTC+4)
    - cron: '0 14 * * *'
  workflow_dispatch:  # –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é

jobs:
  scrape:
    runs-on: ubuntu-latest
    
    steps:
    - name: üì• Checkout —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
      uses: actions/checkout@v4
      
    - name: üêç –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'
        
    - name: üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
      run: |
        pip install -r requirements.txt
        playwright install chromium
        playwright install-deps
        
    - name: üîç –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞
      run: python laptop_scraper.py
      
    - name: üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
      uses: stefanzweifel/git-auto-commit-action@v5
      with:
        commit_message: "üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö"
        file_pattern: 'output/*'
